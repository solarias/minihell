<script src="../package/subtool.js"></script>
<style>
    canvas {border:1px black dashed;}
    img {display:none;}
    button {width:200px;height:80px;font-size:50px;}
</style>
<body>
    <canvas id="g" width="400px" height="200px"></canvas>
    <button id="click">0</button>
    <img id="a0" src="./epic_wait_wish1.png" alt="" />
    <img id="a1" src="./epic_wait_wish2.png" alt="" />
    <img id="a2" src="./epic_wait_wish3.png" alt="" />
    <img id="a3" src="./epic_wait_wish4.png" alt="" />
    <img id="a4" src="./epic_wait_wish5.png" alt="" />
</body>
<script>
window.onload = function() {
    var as = [
        {w:370,h:116,
            x:115,y:50},//1번 그림
        {w:536,h:177,c:16,
            x:32,y:18},//2번 그림
        {w:323,h:134,
            x:138,y:5},//3번 그림
        {w:108,h:349,
            x:246,y:-10},//4번 그림
        {w:116,h:141,
            x:242,y:0},//5번 그림
    ];
    var can = $("#g");
    var count = 0

    function draw(t,n,z,cmd) {
        var ctx = can.getContext("2d");
        var img = $("#a" + t.toString());
        if (!z) z=1;
        if (cmd !== 1) {
            ctx.drawImage(img,
                (as[t].w/z)*(n-1), 0,
                as[t].w, as[t].h,
                as[t].x - 100, as[t].y,
                as[t].w*z, as[t].h*z);
        } else {
            ctx.drawImage(img,
                0, 0,
                as[t].w, as[t].h,
                as[t].x - 100, as[t].y,
                as[t].w*z, as[t].h*z);
        }
    }
    function clear() {
        var ctx = can.getContext("2d");
        ctx.clearRect(0, 0, can.width, can.height);
    }

    function k(n) {
        clear();
        /*
        draw(0,n,1,1);
        draw(1,Math.ceil(n/2),2);
        */
        draw(2,n,1);
        draw(3,Math.ceil(n/2),1);
        draw(4,n,1);
    }

    $("#click").onclick = function() {
        count += 1;
        $("#click").innerHTML = count;
        k(count);
        console.log()
    }
}
</script>
